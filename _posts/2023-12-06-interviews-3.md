---
title: 'é¢è¯•ç›¸å…³ï¼ˆ3ï¼‰'
author: litao
date: 2023-12-06 19:13:00 +0800
categories: [interviews]
tags: [interviews]




---

### ğŸ·ï¸`ArrayList` å’Œ `LinkedList`åŒºåˆ«åŠä¼˜ç¼ºç‚¹

#### 1.ArrayList

- å®ç°æ–¹å¼ï¼šåŸºäºåŠ¨æ€æ•°ç»„å®ç°ï¼Œåº•å±‚ä¸ºä¸€ä¸ªæ•°ç»„ï¼Œå½“éœ€è¦å¢åŠ æ›´å¤šå…ƒç´ æ—¶ä¼šå°†æ—§æ•°ç»„å…ƒç´ å¤åˆ¶åˆ°æ–°æ•°ç»„

- æ‰©å®¹é€»è¾‘ï¼šåˆå§‹å¤§å°ä¸º10ï¼Œè¶…å‡ºå®¹é‡åä¼šæ‰©å®¹åˆ°ä¹‹å‰çš„1.5å€

- ä¼˜ç‚¹ï¼šç”±äºåº•å±‚æ˜¯æ•°ç»„ï¼Œå¯ä»¥é€šè¿‡ç´¢å¼•å¿«é€Ÿè®¿é—®ä»»æ„å…ƒç´ ï¼ˆæ—¶é—´å¤æ‚åº¦O(1)ï¼‰ã€‚ç”±äºæ•°ç»„æ˜¯è¿ç»­çš„å†…å­˜ï¼Œç©ºé—´åˆ©ç”¨ç‡ä¹Ÿé«˜ã€‚

- ç¼ºç‚¹ï¼šç”±äºæ˜¯æ•°ç»„ï¼Œæ’å…¥åˆ é™¤éœ€è¦ç§»åŠ¨å¤§é‡å…ƒç´ ï¼Œæ•ˆç‡è¾ƒä½ï¼ˆæ—¶é—´å¤æ‚åº¦0(n)ï¼‰ã€‚ æ‰©å®¹æ—¶ä¼šé‡æ–°åˆ›å»ºæ›´å¤§çš„æ•°ç»„ï¼Œå¹¶ä¸”éœ€è¦å¤åˆ¶å…ƒç´ ï¼Œä¼šå¸¦æ¥ä¸€äº›å¼€é”€ã€‚

#### 2.LinkedList

- å®ç°æ–¹å¼ï¼šåŸºäºåŒå‘åˆ—è¡¨å®ç°ï¼Œæ¯ä¸ªå…ƒç´ èŠ‚ç‚¹åŒ…å«æ•°æ®åŠå‰åä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘å‰åæ•°æ®ã€‚
- ä¼˜ç‚¹ï¼šæ’å…¥åˆ é™¤æ—¶åªéœ€è¦è°ƒæ•´å…ƒç´ æŒ‡é’ˆï¼ˆæ—¶é—´å¤åˆ¶åº¦O (1)ï¼‰ï¼Œæ•ˆç‡è¾ƒé«˜ï¼Œå¹¶ä¸”æ— éœ€é¢å¤–çš„æ‰©å®¹ã€‚
- ç¼ºç‚¹ï¼šæŸ¥è¯¢æ•ˆç‡è¾ƒä½å› ä¸ºè¦éå†æ•´ä¸ªèŠ‚ç‚¹ï¼ˆæ—¶é—´å¤æ‚åº¦O(n)ï¼‰ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½éœ€è¦é¢å¤–ç©ºé—´æ¥ä¿å­˜æŒ‡é’ˆï¼Œç©ºé—´åˆ©ç”¨ç‡è¦ä½äº`ArrayList`


ğŸ·ï¸`Hashmap` å’Œ`Hashtable`åŒºåˆ«åŠä¼˜ç¼ºç‚¹

#### 1. Hashmap
- éçº¿ç¨‹å®‰å…¨ï¼Œéœ€è¦å»æ‰‹åŠ¨åŒæ­¥ï¼ˆå¦‚ä½¿ç”¨ `Collections.synchronizedMap()` æˆ– `ConcurrentHashMap`ï¼‰
- æ€§èƒ½ç”±äºæœªä½¿ç”¨åŒæ­¥æœºåˆ¶ï¼Œè¦ä¼˜äºHashtable
- å…è®¸ä¸€ä¸ª `null` é”®å’Œå¤šä¸ª `null` å€¼ã€‚`HashMap` å…è®¸å­˜å‚¨ `null` ä½œä¸ºé”®å’Œå€¼ã€‚
- å†…éƒ¨ä½¿ç”¨åˆ—è¡¨å®ç°ï¼Œå½“é“¾è¡¨é•¿åº¦è¶…è¿‡ä¸€å®šé˜ˆå€¼ï¼ˆé»˜è®¤8ï¼‰æ—¶ï¼Œé“¾è¡¨ä¼šè½¬æ¢æˆçº¢é»‘æ ‘ï¼Œä»¥æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚
- å®¹é‡é»˜è®¤çš„åˆå§‹å®¹é‡ä¸º 16ï¼Œè´Ÿè½½å› å­ä¸º 0.75ã€‚å®ƒåœ¨éœ€è¦æ‰©å®¹æ—¶å°†å®¹é‡ç¿»å€ï¼ŒåŒæ—¶é‡æ–°è®¡ç®—æ‰€æœ‰å…ƒç´ çš„å“ˆå¸Œå€¼å¹¶é‡æ–°åˆ†é…å®ƒä»¬çš„ä½ç½®ï¼Œè¿™ä¼šå¯¼è‡´çŸ­æš‚çš„æ€§èƒ½å¼€é”€

#### 2. Hashtable
- çº¿ç¨‹å®‰å…¨ï¼Œå†…éƒ¨å¤§é‡ä½¿ç”¨äº†synchronized
- ç”±äºåŒæ­¥æœºåˆ¶çš„å­˜åœ¨ï¼Œæ€§èƒ½è¦å·®äºHashmap,é«˜å¹¶å‘ä¸‹ç”±äºæ¯æ¬¡éƒ½è·å–é”ï¼Œå¾ˆå®¹æ˜“é€ æˆç“¶é¢ˆ
- ä¸å…è®¸ `null` é”®å’Œ `null` å€¼ã€‚å¦‚æœå°è¯•æ’å…¥ `null` é”®æˆ–å€¼ï¼Œä¼šæŠ›å‡º `NullPointerException`ã€‚
- Hashtableå†…éƒ¨ä¹Ÿä½¿ç”¨åˆ—è¡¨ï¼Œä½†æ²¡æœ‰ä½¿ç”¨çº¢é»‘æ ‘å¯¹hashå†²çªåšè¿›ä¸€æ­¥ä¼˜åŒ–
- é»˜è®¤çš„åˆå§‹å®¹é‡ä¸º 11ï¼Œè´Ÿè½½å› å­ä¸º 0.75ã€‚å½“éœ€è¦æ‰©å®¹æ—¶ï¼Œ`Hashtable` çš„å®¹é‡å¢é•¿ä¸º `2 * å½“å‰å®¹é‡ + 1`ã€‚


### ğŸ·ï¸ ç¯å½¢åˆ—è¡¨çš„åˆ¤æ–­

1.å¿«æ…¢æŒ‡é’ˆæ³•ï¼ˆæ—¶é—´O(n)ï¼Œç©ºé—´(1)ï¼‰

å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆ `slow`,`fast`åˆå§‹éƒ½æŒ‡å‘åˆ—è¡¨çš„åŒä¸€ä¸ªå…ƒç´ ï¼Œ`slow`æ¯æ¬¡ç§»åŠ¨ä¸€æ­¥ï¼Œ`fast`æ¯æ¬¡ç§»åŠ¨ä¸¤æ­¥ï¼Œæ¯æ¬¡ç§»åŠ¨åæ£€æµ‹ä¸¤ä¸ªå…ƒç´ æ˜¯å¦ç›¸åŒï¼Œå¦‚æœç›¸åŒåˆ™å­˜åœ¨ç¯ï¼Œå¦‚æœä»»æ„ä¸€ä¸ªæŒ‡é’ˆå‡ºç°nullåˆ™æ— ç¯ã€‚

2.å“ˆå¸Œè¡¨éå†æ—¶é—´æ³•ï¼ˆO(n)ï¼Œç©ºé—´(n)ï¼‰ï¼‰

ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨è®¿é—®è¿‡çš„èŠ‚ç‚¹ï¼Œå¦‚æœå†æ¬¡é‡åˆ°ç›¸åŒå…ƒç´ åˆ™å­˜åœ¨ç¯

3.ä¿®æ”¹åˆ—è¡¨ç»“æ„æ³•ï¼ˆæ—¶é—´O(n)ï¼Œç©ºé—´(1)ï¼‰

åœ¨ä¾¿åˆ©çš„åŒæ—¶ä¿®æ”¹å…ƒç´ çš„nextèŠ‚ç‚¹ä¸ºä¸€ä¸ªç‰¹æ®Šå€¼ï¼Œå¦‚æœå†æ¬¡é‡åˆ°æ­¤ç‰¹æ®Šå€¼æ—¶è¯´æ˜æœ‰ç¯ï¼Œç”±äºä¼šæ”¹å˜åˆ—è¡¨ç»“æ„ï¼Œåªé€‚ç”¨äºåˆ¤æ–­æˆ–æ— éœ€ä¿ç•™åŸå§‹æ•°æ®çš„æƒ…å†µã€‚

3.é€’å½’æ³•

ä¼ é€’å½“å‰èŠ‚ç‚¹å’Œä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œé€’å½’è°ƒç”¨ä¸­æ·»åŠ å·²éå†çš„å…ƒç´ ï¼ŒåŒæ—¶åˆ¤æ–­å“ˆå¸Œè¡¨ä¸­æ˜¯å¦åŒ…å«å½“å‰å…ƒç´ ï¼Œå¦‚æœä¸åŒ…å«ä¸”ä¸ä¸ºç©ºåˆ™ç»§ç»­æºå¸¦å½“å‰å…ƒç´ çš„nextå’Œå“ˆå¸Œè¡¨ç»§ç»­è°ƒç”¨ã€‚ç”±äºé€’å½’çš„æ ˆç©ºé—´å¼€é”€ï¼Œå¯èƒ½å¯¼è‡´æ ˆæº¢å‡ºé—®é¢˜ã€‚

### ğŸ·ï¸ å¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨å’Œè™šå¼•ç”¨

- å¼ºå¼•ç”¨ï¼šå¼ºå¼•ç”¨æ˜¯ Java ä¸­æœ€å¸¸è§çš„å¼•ç”¨ç±»å‹ã€‚å½“ä¸€ä¸ªå¯¹è±¡é€šè¿‡å¼ºå¼•ç”¨è¢«å¼•ç”¨æ—¶ï¼Œåªè¦ä¸ä¸»åŠ¨é‡Šæ”¾åƒåœ¾æ”¶é›†å™¨æ°¸è¿œä¸ä¼šå›æ”¶å®ƒã€‚è¿™æ˜¯é»˜è®¤çš„å¼•ç”¨ç±»å‹

- è½¯å¼•ç”¨ï¼šè½¯å¼•ç”¨æ˜¯ä¸€ç§æ¯”å¼ºå¼•ç”¨å¼±ï¼Œä½†æ¯”å¼±å¼•ç”¨å¼ºçš„å¼•ç”¨ç±»å‹ã€‚è¢«è½¯å¼•ç”¨å…³è”çš„å¯¹è±¡åœ¨ JVM å†…å­˜ä¸è¶³æ—¶ä¼šè¢«å›æ”¶ã€‚è½¯å¼•ç”¨é€šå¸¸ç”¨äºå®ç°å†…å­˜æ•æ„Ÿçš„ç¼“å­˜ï¼Œå³å½“å†…å­˜ä¸è¶³æ—¶ï¼Œå¯ä»¥è®©åƒåœ¾æ”¶é›†å™¨å›æ”¶è¿™äº›ç¼“å­˜å¯¹è±¡ã€‚ä¾‹å¦‚å¸¸ç”¨è¯­å›¾ç‰‡çš„å›æ”¶ã€‚
- å¼±å¼•ç”¨ï¼šå¼±å¼•ç”¨æ˜¯ä¸€ç§æ¯”è½¯å¼•ç”¨æ›´å¼±çš„å¼•ç”¨ç±»å‹ã€‚è¢«å¼±å¼•ç”¨å…³è”çš„å¯¹è±¡åªè¦åƒåœ¾æ”¶é›†å™¨è¿è¡Œï¼Œä¸ç®¡å†…å­˜æ˜¯å¦å……è¶³ï¼Œéƒ½ä¼šè¢«å›æ”¶ã€‚ä¾‹å¦‚å¸¸ç”¨äºæ˜“å‘ç”Ÿå†…å­˜æ³„éœ²çš„åœ°æ–¹ã€‚
- è™šå¼•ç”¨ï¼šä»…ç”¨äºä¸€äº›å†…å­˜ç®¡ç†ç›‘æ§ï¼Œéœ€ä¸`ReferenceQueue`ç»“åˆä½¿ç”¨ã€‚

### ğŸ·ï¸ java ä¸­equals å’Œ hashcodeç›¸å…³é—®é¢˜

1. é‡é‡å†™equals å¿…é¡»é‡å†™hashcodeå—

   å¦‚æœæˆ‘ä»¬åœ¨åŸºäºå“ˆå¸Œçš„é›†åˆä¸­ï¼ˆå¦‚ï¼šHashMapï¼ŒHashSetï¼‰ä½¿ç”¨å¯¹è±¡ï¼Œé‚£ä¹ˆéœ€è¦é‡å†™hashcode,å› ä¸ºè¿™äº›æ•°æ®ç»“æ„éœ€è¦é€šè¿‡å“ˆå¸Œç æ¥å¿«é€Ÿå®šä½å¯¹è±¡ã€‚é€šå¸¸æŒ‰ç…§è§„èŒƒæ¥è¯´åº”è¯¥åŒæ—¶å»é‡å†™ï¼Œæ— è®ºä½•ç§æƒ…å†µã€‚

2. **equals** å’Œ == çš„åŒºåˆ«

   Obejectä¸­é»˜è®¤æ˜¯ä½¿ç”¨==è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœå­ç±»æœªé‡æ–°åˆ™æ²¡æœ‰åŒºåˆ«ï¼Œé€šå¸¸æˆ‘ä»¬ä¼šå»é‡å†™ï¼Œç›®çš„æ˜¯ä¸ºäº†æ¯”è¾ƒå†…å®¹ç›¸ç­‰ã€‚åŒæ—¶é‡å†™equalséœ€è¦æ»¡è¶³ï¼Œè‡ªåæ€§ï¼Œå¯¹ç§°æ€§ï¼Œä¼ é€’æ€§ï¼Œä¸€è‡´æ€§ï¼Œéç©ºæ€§ã€‚

3. equals()å·²ç»å®Œæˆäº†å¯¹æ¯”ä¸ºä»€ä¹ˆè¿˜è¦æœ‰hashCode()ï¼Ÿ

   å› ä¸ºhashCode()å¹¶ä¸æ˜¯å®Œå…¨å¯é ï¼Œæœ‰æ—¶å€™ä¸åŒçš„å¯¹è±¡ä»–ä»¬ç”Ÿæˆçš„hashcodeä¹Ÿä¼šä¸€æ ·

   - equals()ç›¸ç­‰çš„ä¸¤ä¸ªå¯¹è±¡ä»–ä»¬çš„hashCode()è‚¯å®šç›¸ç­‰ï¼Œä¹Ÿå°±æ˜¯ç”¨equals()å¯¹æ¯”æ˜¯ç»å¯¹å¯é çš„ã€‚
   - hashCode()ç›¸ç­‰çš„ä¸¤ä¸ªå¯¹è±¡ä»–ä»¬çš„equals()ä¸ä¸€å®šç›¸ç­‰ï¼Œä¹Ÿå°±æ˜¯hashCode()ä¸æ˜¯ç»å¯¹å¯é çš„ã€‚

### ğŸ·ï¸ java å†…å­˜æ¨¡å‹

 1. ç¨‹åºè®¡æ•°å™¨ï¼ˆProgram Counter Registerï¼‰

    å¯ä»¥çœ‹ä½œå­—èŠ‚ç çš„**è¡Œå·æŒ‡ç¤ºå™¨**ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ç¨‹åºè®¡æ•°å™¨ï¼Œæ˜¯çº¿ç¨‹ç§æœ‰çš„ã€‚å‘Šè¯‰ç¨‹åºæŒ‰ä»€ä¹ˆé¡ºåºå»æ‰§è¡Œåˆ†æ”¯ã€è·³è½¬ã€å¾ªç¯ã€å¼‚å¸¸å¤„ç†ç­‰ã€‚

2. jvmè™šæ‹Ÿæœºæ ˆï¼ˆJVM Stackï¼‰

   ç®¡ç†Javaæ–¹æ³•çš„è°ƒç”¨å’Œæ‰§è¡Œï¼Œæ¯ä¸ªæ–¹æ³•åœ¨æ‰§è¡Œæ—¶ä¼šåˆ›å»ºä¸€ä¸ªæ ˆå¸§ï¼ˆStack Frameï¼‰ç”¨äºå­˜å‚¨å±€éƒ¨å˜é‡ä»¥åŠæ–¹æ³•æ‰§è¡Œè¿‡ç¨‹çš„ç›¸å…³ä¿¡æ¯ã€‚æ˜¯çº¿ç¨‹ç§æœ‰çš„

3. æœ¬åœ°æ–¹æ³•æ ˆï¼ˆNative Method Stackï¼‰

   ç±»ä¼¼äºjvmè™šæ‹Ÿæœºæ ˆï¼Œåªä¸è¿‡æ˜¯ä¸ºæœ¬åœ°æ–¹æ³•æä¾›çš„ï¼Œç®€å•è¯´å°±æ˜¯é Java ä»£ç çš„æ¥å£ã€‚æ˜¯çº¿ç¨‹ç§æœ‰çš„

4. å †ï¼ˆHeapï¼‰

   å­˜å‚¨æ‰€æœ‰çš„å¯¹è±¡å®ä¾‹å’Œæ•°ç»„ï¼Œæ˜¯åƒåœ¾æ”¶é›†å™¨ç®¡ç†çš„ä¸»è¦åŒºåŸŸï¼Œçº¿ç¨‹å…±äº«ï¼Œæ‰€æœ‰çº¿ç¨‹éƒ½å¯ä»¥è®¿é—®

5. æ–¹æ³•åŒºï¼ˆMethod Areaï¼‰

   å­˜å‚¨ç±»çš„å…ƒæ•°æ®ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç­‰

6. ç›´æ¥å†…å­˜ï¼ˆDirect Memoryï¼‰

   ç›´æ¥å†…å­˜å¹¶ä¸æ˜¯JVMè¿è¡Œæ—¶æ•°æ®åŒºçš„ä¸€éƒ¨åˆ†ï¼Œä½†ä¹Ÿè¢«é¢‘ç¹ä½¿ç”¨ã€‚ä¸»è¦ç”¨äºNIOï¼ˆNew Input/Outputï¼‰ä¸­çš„ç›´æ¥ç¼“å†²åŒº

### ğŸ·ï¸ java gcç›¸å…³

åƒåœ¾å›æ”¶é€šå¸¸åˆ†ä¸ºä»¥ä¸‹å‡ ç§

- Minor GC (å°å‹GC)ï¼šæ–°ç”Ÿä»£GCäº‹ä»¶
- Major GCï¼ˆå¤§å‹GCï¼‰ï¼šè€å¹´ä»£GCäº‹ä»¶,ä½¿ç”¨æ ‡è®°æ¸…é™¤æ³•ã€‚
- Full GC (å®Œå…¨GC)ï¼šæ•´ä¸ªå †çš„GCäº‹ä»¶ï¼Œé€šå¸¸ä¸»åŠ¨è°ƒç”¨System.gcæˆ–è€å¹´ä»£ç©ºé—´ä¸è¶³æˆ–æ–¹æ³•åŒºç©ºé—´ä¸è¶³æ—¶è§¦å‘ã€‚

å †ï¼ˆHeapï¼‰æ˜¯jvmç®¡ç†çš„æœ€å¤§çš„ä¸€å—ç©ºé—´ï¼Œjvmä¼šåˆ©ç”¨åˆ†ä»£æ³•è¿›è¡Œåƒåœ¾çš„å›æ”¶ï¼Œå †ä¸­æœ‰ä¸€ä¸‹å‡ ä¸ªåŒºåŸŸ

1. æ–°ç”Ÿä»£

   ä¸»è¦å­˜æ”¾æ–°åˆ›å»ºçš„å¯¹è±¡ä»¥åŠå¹´é¾„è¾ƒå°çš„å¯¹è±¡æ–°ç”Ÿä»£ä¸­åˆè¢«åˆ†ä¸ºä¸€ä¸‹ä¸‰ä¸ªåŒºåŸŸï¼Œå¤§éƒ¨åˆ†æ•°æ®åˆ›å»ºåé¦–å…ˆä¼šè¿›å…¥EdemåŒºï¼ˆå¯¹è±¡å ç”¨å†…å­˜è¾ƒå¤§çš„ä¼šç›´æ¥è¿›å…¥è€å¹´ä»£ï¼‰ï¼ŒEdemåŒºå†…å­˜ä¸è¶³æ—¶ï¼Œæ¯æ¬¡å‘ç”ŸMinor GCå å¦‚æœå¯¹è±¡è¿˜å­˜æ´»å°±ä¼šè¿›å…¥å¹¸å­˜è€…åŒºï¼Œä¹‹åæ¯æ¬¡Minor GCéƒ½ä¼šä½¿å­˜æ´»çš„å¯¹è±¡å¹´é¾„+1ï¼Œ

   1. Edemï¼ˆèˆ’é€‚åŒºï¼‰ï¼šEdemåŒºå†…å­˜ä¸è¶³æ—¶ä¼šè§¦å‘Minor GC
   2. Survivor fromï¼ˆå¹¸å­˜è€…1åŒºï¼‰ï¼šfrom äº to ä¼šæ¯æ¬¡å‘ç”ŸMinor GCå‘ç”Ÿäº’æ¢ï¼Œæ¸…ç©ºå¦ä¸€æ–¹
   3. Survivor toï¼ˆå¹¸å­˜è€…2åŒºï¼‰ï¼š

2. è€å¹´ä»£

   Minor GCçš„æŒç»­è¿›è¡Œä¼šä½¿è€å¹´ä»£ä¸­çš„æ•°æ®ä¹Ÿä¸æ–­å¢åŠ ï¼Œå½“è€å¹´ä»£ç©ºé—´ä¸è¶³æ—¶å°±ä¼šè§¦å‘Major GC,é¦–å…ˆä»GC rootè¿›è¡Œéå†ï¼ŒæŠŠå¯è¾¾å¯¹è±¡æ‰“ä¸Šæ ‡è®°ï¼Œå†è¿›è¡ŒäºŒæ¬¡éå†ï¼Œå°†æ²¡æœ‰æ ‡è®°çš„å¯¹è±¡è¿›è¡Œæ¸…é™¤ã€‚

æ¶‰åŠåˆ°çš„æ¸…é™¤ç®—æ³•

1. å¼•ç”¨è®¡æ•°æ³•ï¼šæ‰€æœ‰å¼•ç”¨å¯¹è±¡ä¼šæ·»åŠ ä¸€ä¸ªè®¡æ•°å™¨ï¼Œæ¥è¡¨ç¤ºè¢«å¼•ç”¨çš„æ¬¡æ•°ã€‚å¼•ç”¨æ¬¡æ•°ä¸º0çš„è¯´æ˜æ²¡æœ‰å…¶ä»–å¼•ç”¨ï¼Œä½†æ— æ³•å¤„ç†å¾ªç¯å¼•ç”¨çš„å¯¹è±¡ã€‚
2. æ ¹å¯è¾¾æ³•ï¼šé€šå¸¸ä½¿ç”¨GC Rootsä½œä¸ºèµ·å§‹å¯¹è±¡å¼€å§‹æœç´¢å¶å­ç»“ç‚¹ï¼Œæ‰€æœ‰éå†åˆ°çš„å¯¹è±¡è¿›è¡Œæ ‡è®°ã€‚

3. æ ‡è®°æ¸…é™¤æ³•ï¼šç¬¬ä¸€éåˆ©ç”¨GC root æ ¹å¯è¾¾æ³•è¿›è¡Œæ ‡è®°ï¼Œç¬¬äºŒæ¬¡éå†æœªæ ‡è®°çš„å¯¹è±¡è¿›è¡Œæ¸…é™¤ï¼Œæ­¤è¿‡ç¨‹å‘ç”Ÿåœ¨è€å¹´ä»£
4. å¤åˆ¶æ¸…é™¤æ³•ï¼šç¬¬ä¸€éåˆ©ç”¨GC root æ ¹å¯è¾¾æ³•è¿›è¡Œå·¡æ¸£å­˜æ´»çš„å¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€åŒºåŸŸï¼Œç¬¬äºŒéƒ¨åˆ é™¤æ‰€æœ‰å¯¹è±¡ï¼Œå‘ç”Ÿåœ¨å¹´è½»ä»£çš„å¹¸å­˜è€…åŒºåŸŸã€‚

### ğŸ·ï¸ é¢å‘å¯¹è±¡æ¦‚è¿°

#### 1. ä¸‰å¤§ç‰¹æ€§

- å°è£…ï¼šå°½é‡éšè—ç»†èŠ‚ï¼Œä»…æä¾›ç»™ç»™ä¸å¤–ç•Œäº¤äº’çš„åŠŸèƒ½æ¥å£
- ç»§æ‰¿ï¼šå°½é‡æŠ½è±¡å…¬å…±ç‰¹æ€§ï¼Œåˆç†åˆ’åˆ†ï¼Œå­ç±»æ‹¥æœ‰çˆ¶ç±»æ‰€æœ‰ç‰¹æ€§å¹¶ä¸”å¯ä»¥æ‰©å±•è‡ªå·±çš„ç‰¹æ€§ï¼Œå¦‚ ç”Ÿç‰© -> åŠ¨ç‰©  -> ç‹— -> æ³°è¿ª
- å¤šæ€ï¼š

#### 1. äº”ä¸ªåŸåˆ™

- å•ä¸€è´£ä»»åŸåˆ™ï¼šæ¯ä¸ªå¯¹è±¡åº”è¯¥éƒ½æœ‰è‡ªå·±çš„èŒè´£ï¼Œè¿›è¡Œåˆç†åˆ’åˆ†ï¼Œå‡å°‘å„è‡ªèŒè´£çš„æ··æ·†
- å¼€æ”¾å°é—­åŸåˆ™ï¼šå¯¹è±¡åº”è¯¥å¯¹æ‰©å±•æ˜¯å¼€æ”¾çš„ï¼Œå¯¹ä¿®æ”¹æ˜¯å°é—­çš„
- é‡Œæ°æ›¿æ¢åŸåˆ™ï¼šå­ç±»å¯ä»¥æ›¿æ¢çˆ¶ç±»ï¼Œå¹¶å¯ä»¥å‡ºç°åœ¨çˆ¶ç±»å¯å‡ºç°çš„ä»»ä½•åœ°æ–¹
- ä¾èµ–å€’ç½®åŸåˆ™ï¼šé«˜çº¬åº¦çš„æ¨¡å—ä¸åº”è¯¥ä¾èµ–ä½ç»´åº¦çš„æ¨¡å—ï¼ˆç”Ÿç‰©ä¸åº”è¯¥ä¾èµ–åŠ¨ç‰©ï¼‰
- æ¥å£éš”ç¦»åŸåˆ™ï¼šæ¥å£çš„è®¾è®¡ä¸åº”è¯¥å¼ºè¿«ä½¿ç”¨è€…å»å®ç°ä»–ç”¨ä¸ä¸Šçš„æ¥å£ï¼Œå¯ä»¥è¿›è¡Œåˆç†åˆ†ç±»ï¼Œæ‹†è§£ã€‚

### ğŸ·ï¸ Javaä¸­çš„é”

1. synchronized é”

   å¯é”å®šå½“å‰å®ä¾‹æ–¹æ³•ï¼Œé™æ€æ–¹æ³•ï¼Œä»£ç å—

2. ReentrantLock é”

   æ˜¯ `java.util.concurrent.locks` åŒ…ä¸­æä¾›çš„ä¸€ä¸ªå¯é‡å…¥é”ï¼Œæ”¯æŒå¤šä¸ªçº¿ç¨‹å¤šæ¬¡è·å–åŒä¸€æŠŠé”ï¼›æ”¯æŒç­‰å¾…è¿‡ç¨‹çš„å“åº”ä¸­æ–­ï¼›æ”¯æŒé™æ—¶è·å–é”ï¼Œè¶…æ—¶åˆ™æ”¾å¼ƒé”ï¼›å¯ä»¥é€‰æ‹©å…¬å¹³æˆ–éå…¬å¹³é”ï¼Œå…¬å¹³é”ä¿è¯ç­‰å¾…æ—¶é—´æœ€é•¿çš„çº¿ç¨‹ä¼˜å…ˆè·å¾—é”

3. ReentrantReadWriteLock é”

   æ˜¯ä¸€ä¸ªè¯»å†™é”ï¼Œç”¨äºåŒºåˆ†è¯»æ“ä½œå’Œå†™æ“ä½œã€‚å®ƒå…è®¸å¤šä¸ªçº¿ç¨‹åŒæ—¶è¿›è¡Œè¯»æ“ä½œï¼Œä½†å†™æ“ä½œæ˜¯äº’æ–¥çš„

4. StampedLock é”

   å®ƒæä¾›äº†æ¯” `ReentrantReadWriteLock` æ›´é«˜æ•ˆçš„é”ç­–ç•¥ï¼Œç‰¹åˆ«æ˜¯åœ¨è¯»æ“ä½œå¤šã€å†™æ“ä½œå°‘çš„åœºæ™¯ä¸­ï¼Œå¯è¿›è¡Œä¹è§‚è¯»

### ğŸ·ï¸ åŠ¨æ€ä»£ç†ï¼Œé™æ€ä»£ç†

1. é™æ€ä»£ç†

   é™æ€ä»£ç†æ˜¯æŒ‡ç”±å¼€å‘è€…åœ¨ä»£ç ä¸­æ˜ç¡®åˆ›å»ºä»£ç†ç±»ï¼Œä»£ç†ç±»å®ç°ä¸ç›®æ ‡å¯¹è±¡ç›¸åŒçš„æ¥å£ï¼Œå¹¶åœ¨ä»£ç†ç±»çš„æ–¹æ³•ä¸­è°ƒç”¨ç›®æ ‡å¯¹è±¡çš„æ–¹æ³•ã€‚ä»£ç†ç±»åœ¨ç¼–è¯‘æ—¶å°±å·²ç»ç¡®å®šï¼Œå› æ­¤ç§°ä¸ºé™æ€ä»£ç†ã€‚ä½¿ç”¨ç®€å•ï¼Œä½†çµæ´»æ€§è¾ƒä½ï¼Œå¤ç”¨æ€§ä¹Ÿè¾ƒä½ã€‚

   ```java
   // å®šä¹‰ä¸€ä¸ªæ¥å£
   interface Service {
       void performTask();
   }
   
   // ç›®æ ‡ç±»ï¼Œå®ç°äº†æ¥å£
   class RealService implements Service {
       @Override
       public void performTask() {
           System.out.println("Performing task in RealService");
       }
   }
   
   // é™æ€ä»£ç†ç±»ï¼Œä¹Ÿå®ç°äº†æ¥å£
   class StaticProxy implements Service {
       private final RealService realService;
   
       public StaticProxy(RealService realService) {
           this.realService = realService;
       }
   
       @Override
       public void performTask() {
           System.out.println("Before performing task");
           realService.performTask(); // è°ƒç”¨ç›®æ ‡å¯¹è±¡çš„æ–¹æ³•
           System.out.println("After performing task");
       }
   }
   
   // ä½¿ç”¨é™æ€ä»£ç†
   public class StaticProxyExample {
       public static void main(String[] args) {
           RealService realService = new RealService();
           Service proxy = new StaticProxy(realService); // ä½¿ç”¨ä»£ç†å¯¹è±¡
           proxy.performTask();
       }
   }
   
   ```

2. åŠ¨æ€ä»£ç†

   åŠ¨æ€ä»£ç†æ˜¯åœ¨è¿è¡Œæ—¶é€šè¿‡åå°„æœºåˆ¶åŠ¨æ€ç”Ÿæˆä»£ç†ç±»ï¼Œè€Œä¸æ˜¯åœ¨ç¼–è¯‘æ—¶æ‰‹åŠ¨åˆ›å»ºä»£ç†ç±»ã€‚Java æä¾›äº† `java.lang.reflect.Proxy` ç±»å’Œ `InvocationHandler` æ¥å£ç”¨äºå®ç°åŠ¨æ€ä»£ç†ã€‚ä¸é™æ€ä»£ç†ä¸åŒï¼ŒåŠ¨æ€ä»£ç†å¯ä»¥ä»£ç†ä»»æ„æ¥å£ï¼Œè€Œä¸éœ€è¦æå‰ç¼–å†™ä»£ç†ç±»ã€‚çµæ´»æ€§ã€å¤ç”¨æ€§è¾ƒé«˜ï¼Œä½†ä½¿ç”¨äº†åå°„æœ‰ä¸€å®šæ€§èƒ½å¼€é”€ã€‚

   ```java
   import java.lang.reflect.InvocationHandler;
   import java.lang.reflect.Method;
   import java.lang.reflect.Proxy;
   
   // å®šä¹‰ä¸€ä¸ªæ¥å£
   interface Service {
       void performTask();
   }
   
   // ç›®æ ‡ç±»ï¼Œå®ç°äº†æ¥å£
   class RealService implements Service {
       @Override
       public void performTask() {
           System.out.println("Performing task in RealService");
       }
   }
   
   // åŠ¨æ€ä»£ç†ç±»ï¼Œå¿…é¡»å®ç° InvocationHandler æ¥å£
   class DynamicProxy implements InvocationHandler {
       private final Object target;
   
       public DynamicProxy(Object target) {
           this.target = target;
       }
   
       @Override
       public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
           System.out.println("Before performing task");
           Object result = method.invoke(target, args); // è°ƒç”¨ç›®æ ‡å¯¹è±¡çš„æ–¹æ³•
           System.out.println("After performing task");
           return result;
       }
   }
   
   // ä½¿ç”¨åŠ¨æ€ä»£ç†
   public class DynamicProxyExample {
       public static void main(String[] args) {
           RealService realService = new RealService();
           
           // åˆ›å»ºåŠ¨æ€ä»£ç†å¯¹è±¡
           Service proxyInstance = (Service) Proxy.newProxyInstance(
                   realService.getClass().getClassLoader(),
                   realService.getClass().getInterfaces(),
                   new DynamicProxy(realService));
   
           proxyInstance.performTask(); // ä½¿ç”¨ä»£ç†å¯¹è±¡è°ƒç”¨æ–¹æ³•
       }
   }
   
   ```

### ğŸ·ï¸ Hashmap åŸç†
